# ğŸ”§ 500é”™è¯¯ä¿®å¤æ€»ç»“

**ä¿®å¤æ—¶é—´**: 2025-01-04  
**é”™è¯¯ç±»å‹**: ç®¡ç†å‘˜ç™»å½•500é”™è¯¯  
**ä¿®å¤çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­

---

## ğŸš¨ é—®é¢˜åˆ†æ

### ğŸ“Š é”™è¯¯ç°è±¡
- **å‰ç«¯**: ç®¡ç†åå°ç™»å½•æ˜¾ç¤º"æœåŠ¡å™¨é”™è¯¯"å’Œ"Request failed with status code 500"
- **åç«¯**: `/api/admin/login` æ¥å£è¿”å› `{"statusCode":500,"message":"Internal server error"}`
- **æ•°æ®åº“**: adminè¡¨æ•°æ®æ­£å¸¸ï¼Œå¯†ç å“ˆå¸Œæ­£ç¡®

### ğŸ” é—®é¢˜æ’æŸ¥

#### âœ… å·²ç¡®è®¤æ­£å¸¸çš„éƒ¨åˆ†
1. **æ•°æ®åº“è¿æ¥**: MySQLè¿æ¥æ­£å¸¸
2. **adminè¡¨æ•°æ®**: ç”¨æˆ·æ•°æ®å­˜åœ¨ä¸”æ­£ç¡®
3. **å¯†ç å“ˆå¸Œ**: å¯†ç éªŒè¯é€šè¿‡ï¼ˆæµ‹è¯•è„šæœ¬éªŒè¯ï¼‰
4. **APIæœåŠ¡**: åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸
5. **APIæ–‡æ¡£**: Swaggeræ–‡æ¡£å¯æ­£å¸¸è®¿é—®

#### âŒ é—®é¢˜æ‰€åœ¨
- **åç«¯APIä»£ç **: adminæ¨¡å—å¯èƒ½å­˜åœ¨ç¼–è¯‘æˆ–è¿è¡Œæ—¶é”™è¯¯
- **æ¨¡å—å¯¼å…¥**: æ–°åˆ›å»ºçš„adminæ¨¡å—å¯èƒ½æœ‰é—®é¢˜

---

## âœ… å·²å®Œæˆçš„ä¿®å¤

### ğŸ”§ 1. åˆ›å»ºadminæ¨¡å—
- âœ… **Adminå®ä½“** (`admin.entity.ts`)
- âœ… **AdminæœåŠ¡** (`admin.service.ts`)
- âœ… **Adminæ§åˆ¶å™¨** (`admin.controller.ts`)
- âœ… **Adminæ¨¡å—** (`admin.module.ts`)
- âœ… **ç™»å½•DTO** (`admin-login.dto.ts`)

### ğŸ”§ 2. æ›´æ–°ä¸»æ¨¡å—
- âœ… **å¯¼å…¥AdminModule** (`app.module.ts`)
- âœ… **æ›´æ–°JWTç­–ç•¥** (`jwt.strategy.ts`)

### ğŸ”§ 3. ä¿®å¤æ•°æ®åº“
- âœ… **æ›´æ–°å¯†ç å“ˆå¸Œ**: ç”Ÿæˆæ­£ç¡®çš„bcryptå“ˆå¸Œ
- âœ… **éªŒè¯å¯†ç **: æµ‹è¯•è„šæœ¬ç¡®è®¤å¯†ç éªŒè¯æ­£å¸¸

---

## ğŸ” å½“å‰çŠ¶æ€

### ğŸ“Š æœåŠ¡çŠ¶æ€
| æœåŠ¡ | ç«¯å£ | çŠ¶æ€ | è®¿é—®åœ°å€ |
|------|------|------|----------|
| **åç«¯API** | 3000 | âœ… è¿è¡Œæ­£å¸¸ | http://localhost:3000/api/docs |
| **ç®¡ç†åå°** | 5175 | âœ… è¿è¡Œæ­£å¸¸ | http://localhost:5175 |
| **å•†å®¶ç«¯** | 5174 | âœ… è¿è¡Œæ­£å¸¸ | http://localhost:5174 |
| **ç”¨æˆ·ç«¯** | 5176 | âœ… è¿è¡Œæ­£å¸¸ | http://localhost:5176 |

### ğŸ”§ APIæ¥å£çŠ¶æ€
- âœ… **APIæ–‡æ¡£**: æ­£å¸¸è®¿é—®
- âŒ **ç®¡ç†å‘˜ç™»å½•**: 500é”™è¯¯
- âŒ **ç”¨æˆ·ç™»å½•**: 500é”™è¯¯

---

## ğŸš€ ä¸‹ä¸€æ­¥è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: æ£€æŸ¥åç«¯ç¼–è¯‘é”™è¯¯
```bash
# æ£€æŸ¥TypeScriptç¼–è¯‘é”™è¯¯
cd ecommerce-backend
npm run build

# æ£€æŸ¥æ¨¡å—å¯¼å…¥
npm run start:dev
```

### æ–¹æ¡ˆ2: æ£€æŸ¥æ•°æ®åº“è¿æ¥é…ç½®
```bash
# æ£€æŸ¥æ•°æ®åº“é…ç½®
cat .env
cat src/config/database.config.ts
```

### æ–¹æ¡ˆ3: æ£€æŸ¥JWTé…ç½®
```bash
# æ£€æŸ¥JWTé…ç½®
cat src/config/jwt.config.ts
```

### æ–¹æ¡ˆ4: ç®€åŒ–æµ‹è¯•
```bash
# åˆ›å»ºç®€å•çš„æµ‹è¯•æ¥å£
# æµ‹è¯•åŸºæœ¬åŠŸèƒ½æ˜¯å¦æ­£å¸¸
```

---

## ğŸ”‘ æµ‹è¯•æ•°æ®

### ğŸ–¥ï¸ ç®¡ç†å‘˜è´¦å·
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `123456`
- **å¯†ç å“ˆå¸Œ**: `$2b$10$or9JigQjPhDMybkv.syhD.z6/0DLSUrPnvZPOOkWrnFjZsMWaS9DO`

### ğŸ“± ç”¨æˆ·è´¦å·
- **æ‰‹æœºå·**: `13800138000`
- **å¯†ç **: `123456`

---

## ğŸ¯ é¢„æœŸç»“æœ

### âœ… ä¿®å¤ååº”è¯¥å®ç°
1. **ç®¡ç†å‘˜ç™»å½•**: `/api/admin/login` è¿”å›200çŠ¶æ€ç 
2. **ç”¨æˆ·ç™»å½•**: `/api/user/login` è¿”å›200çŠ¶æ€ç 
3. **å‰ç«¯ç™»å½•**: ç®¡ç†åå°å’Œå•†å®¶ç«¯ç™»å½•æ­£å¸¸
4. **Tokenç”Ÿæˆ**: ç™»å½•æˆåŠŸåè¿”å›JWT token

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

### ğŸ“„ æ–°å¢æ–‡ä»¶
1. `src/modules/admin/entities/admin.entity.ts`
2. `src/modules/admin/dto/admin-login.dto.ts`
3. `src/modules/admin/admin.service.ts`
4. `src/modules/admin/admin.controller.ts`
5. `src/modules/admin/admin.module.ts`
6. `test-admin-login.js`

### ğŸ”„ ä¿®æ”¹æ–‡ä»¶
1. `src/app.module.ts` - å¯¼å…¥AdminModule
2. `src/modules/auth/strategies/jwt.strategy.ts` - æ”¯æŒadminç±»å‹

---

## ğŸŠ æ€»ç»“

**500é”™è¯¯ä¿®å¤è¿›è¡Œä¸­ï¼**

- âœ… **æ•°æ®åº“**: è¿æ¥æ­£å¸¸ï¼Œæ•°æ®æ­£ç¡®
- âœ… **å¯†ç éªŒè¯**: æµ‹è¯•è„šæœ¬ç¡®è®¤æ­£å¸¸
- âœ… **adminæ¨¡å—**: ä»£ç ç»“æ„å®Œæ•´
- âŒ **APIæ¥å£**: å­˜åœ¨è¿è¡Œæ—¶é”™è¯¯

**ä¸‹ä¸€æ­¥éœ€è¦æ£€æŸ¥åç«¯ç¼–è¯‘å’Œè¿è¡Œæ—¶é”™è¯¯ï¼**
